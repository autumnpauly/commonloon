---
title: "Common Loon Analysis"
author: "Ellie Gabrielson, Will Draxler, Autumn Pauly"
output: github_document
---
# Loading the Packages and Data

```{r loading-packages}
library(tidyverse)
library(lubridate)
```

```{r loading-data}
all_bird_untidy <- read_csv("loons_2023.csv")
loons_2023 <- read_csv("loons_2023.csv")
```

# Tidying the Data
## Exposure
```{r}
#assigning exposure level to locations
loons_2023 <- loons_2023 %>% 
  mutate(shelter_gradient = case_when(location == "BAR HARBOR PIER" ~ "exposed",
                                      location == "SEAL HARBOR BEACH" ~ "moderate",
                                      location == "BRACY HARBOR" ~ "moderate",
                                      location == "NORTHEAST HARBOR" ~ "moderately_sheltered",
                                      location == "SOMES SOUND" ~ "sheltered",
                                      location == "SOUTHWEST HARBOR" ~ "moderately_sheltered",
                                      location == "SEAWALL" ~ "exposed",
                                      location == "SEAL COVE" ~ "moderately_exposed",
                                      location == "SAND BEACH" ~ "moderately_exposed"))
 
#releveling the exposure levels from most exposed to least exposed 
shelter_factor <- fct_relevel(loons_2023$shelter_gradient, c(
                "exposed", 
                "moderately_exposed",
                "moderate",
                "moderately_sheltered",
                "sheltered"))

#saving a dataset to include only loons and the shelter factor
loons_2023 <- loons_2023 %>% 
  mutate(shelter_factor = shelter_factor) %>% 
  filter(species == "COMMON LOON")

#counting how many different exposure observations we have
loons_2023 %>% 
  count(shelter_factor)
```

## Changing `chr` variables to `num`

There are a number of variables within this dataset that are character variables that should be numeric variables (i.e. meters_offshore, longitude, latitude)

```{r chr-to-num}
loons_2023 <- loons_2023 %>% 
  mutate(meters_offshore = as.numeric(meters_offshore)) %>% 
  mutate(latitude = as.numeric(latitude)) %>% 
  mutate(longitude = as.numeric(longitude)) %>% 
  mutate(barometer = as.numeric(barometer)) %>% 
  mutate(date = as_date(date, format = "%m/%d/%Y")) %>% 
  mutate(time = hms::as_hms(time)) %>% 
  select(-year, -day, -month)

glimpse(loons_2023)
```


## Location
```{r location-tidying}
#determining how many locations we have
unique(loons_2023$location)

#renaming to fit tidy format? we'll see if we have to do this...
#...
```

## Behavior
```{r behavior-tidying}
unique(loons_2023$behavior)
```

## Write a CSV









